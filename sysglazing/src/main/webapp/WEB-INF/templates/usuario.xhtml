<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <p:panel id="idPanelCadUsu" header="Cadastro de Usuários" rendered="false">
        <h:panelGrid id="idgridUsuario" columns="1">
            <h:panelGrid columns="10">
                <h:outputText value="Usuário:" />
                <h:inputText value="#{usuarioView.lnUsuario.usuStCodigo}" maxlength="20" size="20"/>
                <h:outputText value="Senha:"/>
                <h:inputSecret value="#{usuarioView.lnUsuario.usuStSenha}" maxlength="40" size="20"/>
                <p:selectBooleanCheckbox value="#{usuarioView.bAtivo}" />
                <h:outputText value="Ativo"/>
                <p:selectBooleanCheckbox value="#{usuarioView.bAlteraSenha}" />
                <h:outputText value="Usuário Altera Senha"/>
                <p:selectBooleanCheckbox value="#{usuarioView.bExpiraSenha}" />
                <h:outputText value="Expira Senha"/>
            </h:panelGrid>
            <h:panelGrid columns="4">
                <h:outputText value="Nome:"/>
                <h:inputText value="#{usuarioView.lnUsuario.usuStNome}" maxlength="40" size="60"/>
                <h:outputText value="E-mail:"/>
                <h:inputText value="#{usuarioView.lnUsuario.usuStEmail}" maxlength="40" size="60"/>
            </h:panelGrid>
            <h:panelGrid columns="4">
                <h:outputText value="Perfil:"/>
                <h:selectOneMenu id="idperfil" value="#{usuarioView.lnUsuario.perInCodigo}">
                    <f:selectItems value="#{usuarioView.listPerfil}" var="perfil" itemLabel="#{perfil.perStDescricao}" itemValue="#{perfil.perInCodigo}" />
                </h:selectOneMenu>
                <p:commandButton value="Novo Perifl"/>
            </h:panelGrid>
        </h:panelGrid>
        <f:facet name="footer">
            <p:commandButton value="Gravar" process="idUsuario,:IdFormCenter:idPanelCadUsu" update="idUsuario,:IdFormCenter:idPanelCadUsu" actionListener="#{usuarioView.setbotaoGravar}" ajax="false"/>
            <p:commandButton value="Cancelar" process="idUsuario,:IdFormCenter:idPanelCadUsu" update="idUsuario,:IdFormCenter:idPanelCadUsu" actionListener="#{usuarioView.setbotaoCancelar}" ajax="false"/>
        </f:facet>
    </p:panel>

    <p:dataTable id="idUsuario" var="usuario" value="#{usuarioView.listUsuario}" selection="#{usuarioView.lnUsuario}" 
                 selectionMode="single" rowKey="#{usuario.usuStCodigo}" rendered="#{not usuarioView.bApresenta}" >
        <f:facet name="header"  >
            Usuários
        </f:facet>
        <p:column headerText="Usuário">
            <h:outputText value="#{usuario.usuStCodigo}"/>
        </p:column>
        <p:column headerText="Nome">
            <h:outputText value="#{usuario.usuStNome}"/>
        </p:column>
        <p:column headerText="E-mail">
            <h:outputText value="#{usuario.usuStEmail}"/>
        </p:column>
        <p:column headerText="Ativo">
            <h:outputText value="#{usuario.usuChAtivo}"/>
        </p:column>
        <p:column headerText="Altera Senha">
            <h:outputText value="#{usuario.usuChAlterasenha}"/>
        </p:column>
        <p:column headerText="Expira">
            <h:outputText value="#{usuario.usuChExpirasenha}"/>
        </p:column>
        <p:column headerText="Data Cadastro">
            <h:outputText value="#{usuario.usuDtCadastro}"/>
        </p:column>
<!--        <f:facet name="footer">
            <p:commandButton value="Incluir" process="idUsuario,:IdFormCenter:idPanelCadUsu" update="idUsuario,:IdFormCenter:idPanelCadUsu" actionListener="#{usuarioView.setbotaoIncluir}" ajax="false"/>
            <p:commandButton value="Alterar" process="idUsuario,:IdFormCenter:idPanelCadUsu" update="idUsuario,:IdFormCenter:idPanelCadUsu" actionListener="#{usuarioView.setbotaoAlterar}" ajax="false"/>
            <p:commandButton value="Excluir"/>
        </f:facet>-->
        <f:facet name="footer">
            <p:commandButton value="Incluir" process="idUsuario,:diologteste:idPanelCadUsu" update=":diologteste:idPanelCadUsu" onclick="PF('dlg2').show()" ajax="false" 
                             actionListener="#{usuarioView.setbotaoIncluir}" type="button"/>
        </f:facet>
    </p:dataTable>
</ui:composition>
