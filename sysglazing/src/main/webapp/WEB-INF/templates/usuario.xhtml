<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <p:dataTable id="idUsuario" var="usuario" value="#{usuarioView.listUsuario}" selection="#{usuarioView.lnUsuario}" 
                 selectionMode="single" rowKey="#{usuario.usuStCodigo}" >
        <f:facet name="header"  >
            Usuários
        </f:facet>
        <p:column headerText="Usuário">
            <h:outputText value="#{usuario.usuStCodigo}"/>
        </p:column>
        <p:column headerText="Nome">
            <h:outputText value="#{usuario.usuStNome}"/>
        </p:column>
        <p:column headerText="E-mail">
            <h:outputText value="#{usuario.usuStEmail}"/>
        </p:column>
        <p:column headerText="Ativo">
            <h:outputText value="#{usuario.usuChAtivo}"/>
        </p:column>
        <p:column headerText="Altera Senha">
            <h:outputText value="#{usuario.usuChAlterasenha}"/>
        </p:column>
        <p:column headerText="Expira">
            <h:outputText value="#{usuario.usuChExpirasenha}"/>
        </p:column>
        <p:column headerText="Data Cadastro">
            <h:outputText value="#{usuario.usuDtCadastro}"/>
        </p:column>
        <f:facet name="footer">
            <p:commandButton value="Incluir" oncomplete="PF('userDialog').show()" process="idUsuario" update=":IdFormCenter:userDetail"/>
            <p:commandButton value="Alterar"/>
            <p:commandButton value="Excluir"/>
        </f:facet>
    </p:dataTable>
    <p:dialog header="Informação Usuário" widgetVar="userDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
        <p:outputPanel id="userDetail" style="text-align:center;">
            <p:panelGrid id="idUsuarioDialog" columns="2" rendered="#{not empty usuarioView.lnUsuario}" columnClasses="label,value">
                <h:outputText value="Usuário:" />
                <h:outputText value="#{usuarioView.lnUsuario.usuStCodigo}" />

                <h:outputText value="Nome Usuário:" />
                <h:outputText value="#{usuarioView.lnUsuario.usuStNome}" />
            </p:panelGrid>
        </p:outputPanel>
    </p:dialog>
</ui:composition>